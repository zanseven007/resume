{"version":3,"sources":["dxy-wechat-share.js"],"names":["jQuery","require","wx","$","dxy_wechat_share","options","wxConfig","data","config","siteConfig","shareConfig","debug","appId","appid","timestamp","nonceStr","noncestr","signature","sign","jsApiList","window","WX_CONFIG","title","desc","imgUrl","success","cancel","document","link","location","href","ready","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","wx_share","simApi","getJSON","console","error","module","exports"],"mappings":"AAAA,YAAA,IAAIA,OACJ,IAAuB,mBAAZC,SAAyB,CAChCD,OAASC,QAAQ,SACjB,IAAIC,IAAKD,QAAQ,qBAGjBD,QAASG,GAKb,SAAWA,GACP,QAASC,GAAiBC,GAEtB,GAAIC,GAAW,SAAUC,GACrB,GAAIC,GACAC,EACAC,CAEJF,IACIG,MAAON,EAAQM,QAAS,EACxBC,MAAOL,EAAKM,MACZC,UAAWP,EAAKO,UAChBC,SAAUR,EAAKS,SACfC,UAAWV,EAAKW,KAChBC,WAAY,sBAAuB,wBAAyB,gBAAiB,qBAXtDV,EAedW,OAAOC,YACZC,MAAOjB,EAAQiB,MACfC,KAAMlB,EAAQkB,KACdC,OAAQnB,EAAQmB,OAChBC,QAASpB,EAAQoB,QACjBC,OAAQrB,EAAQqB,QAGxBhB,GACIY,MAAOb,EAAWa,OAASK,SAASL,MACpCC,KAAMd,EAAWc,MAAQI,SAASL,MAClCE,OAAQf,EAAWe,OACnBC,QAAShB,EAAWgB,QACpBC,OAAQjB,EAAWiB,OACnBE,KAAMR,OAAOS,SAASC,MAG1B5B,GAAGM,OAAOA,GAEVN,GAAG6B,MAAM,WACL7B,GAAG8B,oBAAoBtB,GACvBR,GAAG+B,sBAAsBvB,GACzBR,GAAGgC,cAAcxB,GACjBR,GAAGiC,iBAAiBzB,KAI5B,IAAIU,OAAOgB,SAAU,CACjB,GAAIC,GAASjB,OAAOgB,QACpBjC,GAAEmC,QAAQD,EAAQ/B,OAGlBiC,SAAQC,MAAM,sBAIA,mBAAXC,SAAoD,mBAAnBA,QAAOC,QAC/CD,OAAOC,QAAUtC,EAGjBgB,OAAOhB,iBAAmBA,GAE/BJ","file":"dxy-wechat-share.min.js","sourcesContent":["var jQuery;\nif (typeof require !== 'undefined') {\n    jQuery = require('jquery');\n    var wx = require('weixin-js-sdk');\n}\nelse {\n    jQuery = $;  // for IE8\n}\n\n//在微信中分享\n\n(function ($) {\n    function dxy_wechat_share(options) {\n\n        var wxConfig = function (data) {\n            var config;\n            var siteConfig;\n            var shareConfig;\n\n            config = {\n                debug: options.debug || false,\n                appId: data.appid,\n                timestamp: data.timestamp,\n                nonceStr: data.noncestr,\n                signature: data.sign,\n                jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo']\n            };\n\n            // 站点的微信分享的 WX_CONFIG\n            siteConfig = window.WX_CONFIG || {\n                    title: options.title,\n                    desc: options.desc,\n                    imgUrl: options.imgUrl,\n                    success: options.success,\n                    cancel: options.cancel\n                };\n\n            shareConfig = {\n                title: siteConfig.title || document.title,\n                desc: siteConfig.desc || document.title,\n                imgUrl: siteConfig.imgUrl,\n                success: siteConfig.success,\n                cancel: siteConfig.cancel,\n                link: window.location.href\n            };\n\n            wx.config(config);\n\n            wx.ready(function () {\n                wx.onMenuShareTimeline(shareConfig);\n                wx.onMenuShareAppMessage(shareConfig);\n                wx.onMenuShareQQ(shareConfig);\n                wx.onMenuShareWeibo(shareConfig);\n            });\n        };\n\n        if (window.wx_share) {\n            var simApi = window.wx_share;\n            $.getJSON(simApi, wxConfig);\n        }\n        else {\n            console.error('window.wx_share不存在');\n        }\n    }\n\n    if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n        module.exports = dxy_wechat_share;\n    }\n    else {\n        window.dxy_wechat_share = dxy_wechat_share;\n    }\n})(jQuery);\n"],"sourceRoot":"/source/"}